{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _events = _interopRequireDefault(require(\"events\"));\n\nvar RNEventEmitter = _reactNative.NativeModules.RNEventEmitter;\nvar EVENT_NAME = \"ayylmao_dicksnshit_nobodyUsethisevent PLS OK THANKS\";\nvar moduleIdCounter = 1;\n\nfunction getNewModuleId() {\n  var moduleId = moduleIdCounter;\n  moduleIdCounter++;\n  return moduleId;\n}\n\nvar registeredModules = {};\n\nfunction sendJSEvents(moduleInfo, eventName, args) {\n  for (var _iterator = moduleInfo.preSubscribers, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[typeof Symbol === \"function\" ? Symbol.iterator : \"@@iterator\"]();;) {\n    var _ref;\n\n    if (_isArray) {\n      if (_i >= _iterator.length) break;\n      _ref = _iterator[_i++];\n    } else {\n      _i = _iterator.next();\n      if (_i.done) break;\n      _ref = _i.value;\n    }\n\n    var _subscriber2 = _ref;\n\n    _subscriber2.emit.apply(_subscriber2, [eventName].concat((0, _toConsumableArray2.default)(args)));\n  }\n\n  if (moduleInfo.mainEmitter) {\n    var _moduleInfo$mainEmitt;\n\n    (_moduleInfo$mainEmitt = moduleInfo.mainEmitter).emit.apply(_moduleInfo$mainEmitt, [eventName].concat((0, _toConsumableArray2.default)(args)));\n  }\n\n  for (var _iterator2 = moduleInfo.subscribers, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[typeof Symbol === \"function\" ? Symbol.iterator : \"@@iterator\"]();;) {\n    var _ref2;\n\n    if (_isArray2) {\n      if (_i2 >= _iterator2.length) break;\n      _ref2 = _iterator2[_i2++];\n    } else {\n      _i2 = _iterator2.next();\n      if (_i2.done) break;\n      _ref2 = _i2.value;\n    }\n\n    var _subscriber3 = _ref2;\n\n    _subscriber3.emit.apply(_subscriber3, [eventName].concat((0, _toConsumableArray2.default)(args)));\n  }\n}\n\nfunction onNativeModuleEvent(event) {\n  var moduleInfo = registeredModules[event.moduleId];\n\n  if (moduleInfo == null) {\n    console.error(\"Received event for unregistered module with id \" + event.moduleId);\n    return;\n  }\n\n  sendJSEvents(moduleInfo, event.eventName, event.args);\n}\n\n_reactNative.DeviceEventEmitter.addListener(EVENT_NAME, onNativeModuleEvent);\n\nvar RNEvents = {};\nmodule.exports = RNEvents;\n\nRNEvents.register = function (nativeModule) {\n  if (!nativeModule.__registerAsJSEventEmitter) {\n    throw new Error(\"Native module does not conform to RNEventConformer\");\n  } else if (nativeModule.__rnEventsId != null) {\n    throw new Error(\"Native module has already been registered\");\n  }\n\n  var moduleId = getNewModuleId();\n\n  nativeModule.__registerAsJSEventEmitter(moduleId);\n\n  registeredModules[moduleId] = {\n    nativeModule: nativeModule,\n    mainEmitter: null,\n    preSubscribers: [],\n    subscribers: []\n  };\n  Object.defineProperty(nativeModule, '__rnEventsId', {\n    value: moduleId,\n    writable: false\n  });\n  return nativeModule;\n};\n\nRNEvents.conform = function (nativeModule) {\n  if (!nativeModule.__registerAsJSEventEmitter) {\n    throw new Error(\"Native module does not conform to RNEventConformer\");\n  } else if (nativeModule.__rnEventsId == null) {\n    throw new Error(\"Native module has not been registered\");\n  }\n\n  var moduleId = nativeModule.__rnEventsId;\n  var moduleInfo = registeredModules[moduleId];\n\n  if (moduleInfo == null) {\n    throw new Error(\"No module info found for native module\");\n  } else if (moduleInfo.mainEmitter) {\n    throw new Error(\"Native module has already been conformed\");\n  }\n\n  var eventEmitter = new _events.default();\n  var emitterKeys = Object.keys(_events.default.prototype);\n\n  for (var i = 0; i < emitterKeys.length; i++) {\n    var key = emitterKeys[i];\n    var value = _events.default.prototype[key];\n\n    if (typeof value == 'function' && key != 'emit') {\n      Object.defineProperty(nativeModule, key, {\n        value: value.bind(eventEmitter),\n        writable: false\n      });\n    }\n  }\n\n  nativeModule.emit = function (eventName) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    RNEventEmitter.emit(moduleId, eventName, args);\n    sendJSEvents(moduleInfo, eventName, args);\n  };\n\n  moduleInfo.mainEmitter = eventEmitter;\n  return nativeModule;\n};\n\nRNEvents.emitNativeEvent = function (nativeModule, eventName) {\n  if (!nativeModule.__registerAsJSEventEmitter) {\n    throw new Error(\"Native module does not conform to RNEventConformer\");\n  } else if (nativeModule.__rnEventsId == null) {\n    throw new Error(\"Native module has not been registered\");\n  }\n\n  var moduleId = nativeModule.__rnEventsId;\n  var moduleInfo = registeredModules[moduleId];\n\n  if (moduleInfo == null) {\n    throw new Error(\"No module info found for native module\");\n  }\n\n  for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n    args[_key2 - 2] = arguments[_key2];\n  }\n\n  RNEventEmitter.emit(moduleId, eventName, args);\n};\n\nRNEvents.emitJSEvent = function (nativeModule, eventName) {\n  if (!nativeModule.__registerAsJSEventEmitter) {\n    throw new Error(\"Native module does not conform to RNEventConformer\");\n  } else if (nativeModule.__rnEventsId == null) {\n    throw new Error(\"Native module has not been registered\");\n  }\n\n  var moduleId = nativeModule.__rnEventsId;\n  var moduleInfo = registeredModules[moduleId];\n\n  if (moduleInfo == null) {\n    throw new Error(\"No module info found for native module\");\n  }\n\n  for (var _len3 = arguments.length, args = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n    args[_key3 - 2] = arguments[_key3];\n  }\n\n  sendJSEvents(moduleInfo, eventName, args);\n};\n\nRNEvents.addSubscriber = function (nativeModule, subscriber) {\n  if (!nativeModule.__registerAsJSEventEmitter) {\n    throw new Error(\"Native module does not conform to RNEventConformer\");\n  } else if (nativeModule.__rnEventsId == null) {\n    throw new Error(\"Native module has not been registered\");\n  } else if (!(subscriber instanceof _events.default)) {\n    throw new Error(\"subscriber must be an EventEmitter\");\n  }\n\n  var moduleId = nativeModule.__rnEventsId;\n  var moduleInfo = registeredModules[moduleId];\n\n  if (moduleInfo == null) {\n    throw new Error(\"No module info found for native module\");\n  }\n\n  moduleInfo.subscribers.push(subscriber);\n};\n\nRNEvents.removeSubscriber = function (nativeModule, subscriber) {\n  if (!nativeModule.__registerAsJSEventEmitter) {\n    throw new Error(\"Native module does not conform to RNEventConformer\");\n  } else if (nativeModule.__rnEventsId == null) {\n    throw new Error(\"Native module has not been registered\");\n  } else if (!(subscriber instanceof _events.default)) {\n    throw new Error(\"subscriber must be an EventEmitter\");\n  }\n\n  var moduleId = nativeModule.__rnEventsId;\n  var moduleInfo = registeredModules[moduleId];\n\n  if (moduleInfo == null) {\n    throw new Error(\"No module info found for native module\");\n  }\n\n  var index = moduleInfo.subscribers.indexOf(subscriber);\n\n  if (index != -1) {\n    moduleInfo.subscribers.splice(index, 1);\n  }\n};\n\nRNEvents.addPreSubscriber = function (nativeModule, subscriber) {\n  if (!nativeModule.__registerAsJSEventEmitter) {\n    throw new Error(\"Native module does not conform to RNEventConformer\");\n  } else if (nativeModule.__rnEventsId == null) {\n    throw new Error(\"Native module has not been registered\");\n  } else if (!(subscriber instanceof _events.default)) {\n    throw new Error(\"subscriber must be an EventEmitter\");\n  }\n\n  var moduleId = nativeModule.__rnEventsId;\n  var moduleInfo = registeredModules[moduleId];\n\n  if (moduleInfo == null) {\n    throw new Error(\"No module info found for native module\");\n  }\n\n  moduleInfo.preSubscribers.push(subscriber);\n};\n\nRNEvents.removePreSubscriber = function (nativeModule, subscriber) {\n  if (!nativeModule.__registerAsJSEventEmitter) {\n    throw new Error(\"Native module does not conform to RNEventConformer\");\n  } else if (nativeModule.__rnEventsId == null) {\n    throw new Error(\"Native module has not been registered\");\n  } else if (!(subscriber instanceof _events.default)) {\n    throw new Error(\"subscriber must be an EventEmitter\");\n  }\n\n  var moduleId = nativeModule.__rnEventsId;\n  var moduleInfo = registeredModules[moduleId];\n\n  if (moduleInfo == null) {\n    throw new Error(\"No module info found for native module\");\n  }\n\n  var index = moduleInfo.preSubscribers.indexOf(subscriber);\n\n  if (index != -1) {\n    moduleInfo.preSubscribers.splice(index, 1);\n  }\n};","map":{"version":3,"sources":["/Users/diyarkudrat/Term_5/spd1.5/react-native-spotify-master/example/node_modules/react-native-events/index.js"],"names":["RNEventEmitter","NativeModules","EVENT_NAME","moduleIdCounter","getNewModuleId","moduleId","registeredModules","sendJSEvents","moduleInfo","eventName","args","preSubscribers","subscriber","emit","mainEmitter","subscribers","onNativeModuleEvent","event","console","error","DeviceEventEmitter","addListener","RNEvents","module","exports","register","nativeModule","__registerAsJSEventEmitter","Error","__rnEventsId","Object","defineProperty","value","writable","conform","eventEmitter","EventEmitter","emitterKeys","keys","prototype","i","length","key","bind","emitNativeEvent","emitJSEvent","addSubscriber","push","removeSubscriber","index","indexOf","splice","addPreSubscriber","removePreSubscriber"],"mappings":"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","sourcesContent":["\nimport {\n\tDeviceEventEmitter,\n\tNativeModules,\n\tPlatform\n} from 'react-native';\nimport EventEmitter from 'events';\n\nconst { RNEventEmitter } = NativeModules;\n\n\n\n//========= INTERNAL FUNCTIONS =========//\n\nconst EVENT_NAME = \"ayylmao_dicksnshit_nobodyUsethisevent PLS OK THANKS\";\n\nlet moduleIdCounter = 1;\nfunction getNewModuleId() {\n\tlet moduleId = moduleIdCounter;\n\tmoduleIdCounter++;\n\treturn moduleId;\n}\n\nconst registeredModules = {};\n\nfunction sendJSEvents(moduleInfo, eventName, args) {\n\tfor(const subscriber of moduleInfo.preSubscribers) {\n\t\tsubscriber.emit(eventName, ...args);\n\t}\n\tif(moduleInfo.mainEmitter) {\n\t\tmoduleInfo.mainEmitter.emit(eventName, ...args);\n\t}\n\tfor(const subscriber of moduleInfo.subscribers) {\n\t\tsubscriber.emit(eventName, ...args);\n\t}\n}\n\n// function called when an event is emitted from native code\nfunction onNativeModuleEvent(event) {\n\tvar moduleInfo = registeredModules[event.moduleId];\n\tif(moduleInfo == null) {\n\t\tconsole.error(\"Received event for unregistered module with id \"+event.moduleId);\n\t\treturn;\n\t}\n\tsendJSEvents(moduleInfo, event.eventName, event.args);\n}\n\nDeviceEventEmitter.addListener(EVENT_NAME, onNativeModuleEvent);\n\n\n\n\n\n//========= EXPORTED FUNCTIONS =========//\n\nconst RNEvents = {};\nmodule.exports = RNEvents;\n\n\n\nRNEvents.register = (nativeModule) => {\n\tif(!nativeModule.__registerAsJSEventEmitter) {\n\t\tthrow new Error(\"Native module does not conform to RNEventConformer\");\n\t}\n\telse if(nativeModule.__rnEventsId != null) {\n\t\tthrow new Error(\"Native module has already been registered\");\n\t}\n\n\t// register native module\n\tconst moduleId = getNewModuleId();\n\tnativeModule.__registerAsJSEventEmitter(moduleId);\n\tregisteredModules[moduleId] = {\n\t\tnativeModule: nativeModule,\n\t\tmainEmitter: null,\n\t\tpreSubscribers: [],\n\t\tsubscribers: []\n\t};\n\n\t// define __rnEventsId property\n\tObject.defineProperty(nativeModule, '__rnEventsId', {\n\t\tvalue: moduleId,\n\t\twritable: false\n\t});\n\n\treturn nativeModule;\n}\n\n\n\nRNEvents.conform = (nativeModule) => {\n\tif(!nativeModule.__registerAsJSEventEmitter) {\n\t\tthrow new Error(\"Native module does not conform to RNEventConformer\");\n\t}\n\telse if(nativeModule.__rnEventsId == null) {\n\t\tthrow new Error(\"Native module has not been registered\");\n\t}\n\tconst moduleId = nativeModule.__rnEventsId;\n\tconst moduleInfo = registeredModules[moduleId];\n\tif(moduleInfo == null) {\n\t\tthrow new Error(\"No module info found for native module\");\n\t}\n\telse if(moduleInfo.mainEmitter) {\n\t\tthrow new Error(\"Native module has already been conformed\");\n\t}\n\n\t// apply event emitter methods\n\tvar eventEmitter = new EventEmitter();\n\tvar emitterKeys = Object.keys(EventEmitter.prototype);\n\tfor(var i=0; i<emitterKeys.length; i++) {\n\t\tvar key = emitterKeys[i];\n\t\tvar value = EventEmitter.prototype[key];\n\n\t\tif(typeof value == 'function' && key != 'emit') {\n\t\t\tObject.defineProperty(nativeModule, key, {\n\t\t\t\tvalue: value.bind(eventEmitter),\n\t\t\t\twritable: false\n\t\t\t});\n\t\t}\n\t}\n\t// set custom emit method\n\tnativeModule.emit = (eventName, ...args) => {\n\t\t// send native event\n\t\tRNEventEmitter.emit(moduleId, eventName, args);\n\t\t// send js events\n\t\tsendJSEvents(moduleInfo, eventName, args);\n\t};\n\t// update module info\n\tmoduleInfo.mainEmitter = eventEmitter;\n\n\treturn nativeModule;\n}\n\n\n\nRNEvents.emitNativeEvent = (nativeModule, eventName, ...args) => {\n\tif(!nativeModule.__registerAsJSEventEmitter) {\n\t\tthrow new Error(\"Native module does not conform to RNEventConformer\");\n\t}\n\telse if(nativeModule.__rnEventsId == null) {\n\t\tthrow new Error(\"Native module has not been registered\");\n\t}\n\tconst moduleId = nativeModule.__rnEventsId;\n\tconst moduleInfo = registeredModules[moduleId];\n\tif(moduleInfo == null) {\n\t\tthrow new Error(\"No module info found for native module\");\n\t}\n\n\t// send native event\n\tRNEventEmitter.emit(moduleId, eventName, args);\n}\n\n\n\nRNEvents.emitJSEvent = (nativeModule, eventName, ...args) => {\n\tif(!nativeModule.__registerAsJSEventEmitter) {\n\t\tthrow new Error(\"Native module does not conform to RNEventConformer\");\n\t}\n\telse if(nativeModule.__rnEventsId == null) {\n\t\tthrow new Error(\"Native module has not been registered\");\n\t}\n\tconst moduleId = nativeModule.__rnEventsId;\n\tconst moduleInfo = registeredModules[moduleId];\n\tif(moduleInfo == null) {\n\t\tthrow new Error(\"No module info found for native module\");\n\t}\n\n\t// send js events\n\tsendJSEvents(moduleInfo, eventName, args);\n}\n\n\n\nRNEvents.addSubscriber = (nativeModule, subscriber) => {\n\tif(!nativeModule.__registerAsJSEventEmitter) {\n\t\tthrow new Error(\"Native module does not conform to RNEventConformer\");\n\t}\n\telse if(nativeModule.__rnEventsId == null) {\n\t\tthrow new Error(\"Native module has not been registered\");\n\t}\n\telse if(!(subscriber instanceof EventEmitter)) {\n\t\tthrow new Error(\"subscriber must be an EventEmitter\");\n\t}\n\tconst moduleId = nativeModule.__rnEventsId;\n\tconst moduleInfo = registeredModules[moduleId];\n\tif(moduleInfo == null) {\n\t\tthrow new Error(\"No module info found for native module\");\n\t}\n\n\t// add subscriber\n\tmoduleInfo.subscribers.push(subscriber);\n}\n\n\n\nRNEvents.removeSubscriber = (nativeModule, subscriber) => {\n\tif(!nativeModule.__registerAsJSEventEmitter) {\n\t\tthrow new Error(\"Native module does not conform to RNEventConformer\");\n\t}\n\telse if(nativeModule.__rnEventsId == null) {\n\t\tthrow new Error(\"Native module has not been registered\");\n\t}\n\telse if(!(subscriber instanceof EventEmitter)) {\n\t\tthrow new Error(\"subscriber must be an EventEmitter\");\n\t}\n\tconst moduleId = nativeModule.__rnEventsId;\n\tconst moduleInfo = registeredModules[moduleId];\n\tif(moduleInfo == null) {\n\t\tthrow new Error(\"No module info found for native module\");\n\t}\n\n\t// remove subscriber\n\tconst index = moduleInfo.subscribers.indexOf(subscriber);\n\tif(index != -1) {\n\t\tmoduleInfo.subscribers.splice(index, 1);\n\t}\n}\n\n\n\nRNEvents.addPreSubscriber = (nativeModule, subscriber) => {\n\tif(!nativeModule.__registerAsJSEventEmitter) {\n\t\tthrow new Error(\"Native module does not conform to RNEventConformer\");\n\t}\n\telse if(nativeModule.__rnEventsId == null) {\n\t\tthrow new Error(\"Native module has not been registered\");\n\t}\n\telse if(!(subscriber instanceof EventEmitter)) {\n\t\tthrow new Error(\"subscriber must be an EventEmitter\");\n\t}\n\tconst moduleId = nativeModule.__rnEventsId;\n\tconst moduleInfo = registeredModules[moduleId];\n\tif(moduleInfo == null) {\n\t\tthrow new Error(\"No module info found for native module\");\n\t}\n\n\t// add subscriber\n\tmoduleInfo.preSubscribers.push(subscriber);\n}\n\n\n\nRNEvents.removePreSubscriber = (nativeModule, subscriber) => {\n\tif(!nativeModule.__registerAsJSEventEmitter) {\n\t\tthrow new Error(\"Native module does not conform to RNEventConformer\");\n\t}\n\telse if(nativeModule.__rnEventsId == null) {\n\t\tthrow new Error(\"Native module has not been registered\");\n\t}\n\telse if(!(subscriber instanceof EventEmitter)) {\n\t\tthrow new Error(\"subscriber must be an EventEmitter\");\n\t}\n\tconst moduleId = nativeModule.__rnEventsId;\n\tconst moduleInfo = registeredModules[moduleId];\n\tif(moduleInfo == null) {\n\t\tthrow new Error(\"No module info found for native module\");\n\t}\n\n\t// remove subscriber\n\tconst index = moduleInfo.preSubscribers.indexOf(subscriber);\n\tif(index != -1) {\n\t\tmoduleInfo.preSubscribers.splice(index, 1);\n\t}\n}\n"]},"metadata":{},"sourceType":"script"}
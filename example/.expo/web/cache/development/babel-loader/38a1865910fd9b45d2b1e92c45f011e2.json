{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf3 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactLifecyclesCompat = require(\"react-lifecycles-compat\");\n\nvar _reactNativeTabView = require(\"react-native-tab-view\");\n\nvar _createTabNavigator = _interopRequireDefault(require(\"../utils/createTabNavigator\"));\n\nvar _MaterialTopTabBar = _interopRequireDefault(require(\"../views/MaterialTopTabBar\"));\n\nvar _ResourceSavingScene = _interopRequireDefault(require(\"../views/ResourceSavingScene\"));\n\nvar _jsxFileName = \"/Users/diyarkudrat/Term_5/spd1.5/react-native-spotify-master/example/node_modules/react-navigation-tabs/src/navigators/createMaterialTopTabNavigator.js\";\n\nvar MaterialTabView = function (_React$PureComponent) {\n  (0, _inherits2.default)(MaterialTabView, _React$PureComponent);\n\n  function MaterialTabView() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    (0, _classCallCheck2.default)(this, MaterialTabView);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = (0, _possibleConstructorReturn2.default)(this, (_getPrototypeOf2 = (0, _getPrototypeOf3.default)(MaterialTabView)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      index: 0,\n      isSwiping: false,\n      loaded: [_this.props.navigation.state.index],\n      transitioningFromIndex: null\n    };\n\n    _this._renderIcon = function (_ref) {\n      var focused = _ref.focused,\n          route = _ref.route,\n          tintColor = _ref.tintColor;\n      var descriptors = _this.props.descriptors;\n      var descriptor = descriptors[route.key];\n      var options = descriptor.options;\n\n      if (options.tabBarIcon) {\n        return typeof options.tabBarIcon === 'function' ? options.tabBarIcon({\n          tintColor: tintColor,\n          focused: focused\n        }) : options.tabBarIcon;\n      }\n\n      return null;\n    };\n\n    _this._renderTabBar = function (props) {\n      var state = _this.props.navigation.state;\n      var route = state.routes[state.index];\n      var descriptors = _this.props.descriptors;\n      var descriptor = descriptors[route.key];\n      var options = descriptor.options;\n      var tabBarVisible = options.tabBarVisible == null ? true : options.tabBarVisible;\n      var _this$props = _this.props,\n          _this$props$tabBarCom = _this$props.tabBarComponent,\n          TabBarComponent = _this$props$tabBarCom === void 0 ? _MaterialTopTabBar.default : _this$props$tabBarCom,\n          tabBarPosition = _this$props.tabBarPosition,\n          tabBarOptions = _this$props.tabBarOptions;\n\n      if (TabBarComponent === null || !tabBarVisible) {\n        return null;\n      }\n\n      return React.createElement(TabBarComponent, (0, _extends2.default)({}, tabBarOptions, props, {\n        tabBarPosition: tabBarPosition,\n        screenProps: _this.props.screenProps,\n        navigation: _this.props.navigation,\n        getLabelText: _this.props.getLabelText,\n        getAccessibilityLabel: _this.props.getAccessibilityLabel,\n        getTestID: _this.props.getTestID,\n        renderIcon: _this._renderIcon,\n        onTabPress: _this.props.onTabPress,\n        onTabLongPress: _this.props.onTabLongPress,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        }\n      }));\n    };\n\n    _this._renderPanPager = function (props) {\n      return React.createElement(_reactNativeTabView.PagerPan, (0, _extends2.default)({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        }\n      }));\n    };\n\n    _this._handleAnimationEnd = function () {\n      var lazy = _this.props.lazy;\n\n      if (lazy) {\n        _this.setState({\n          transitioningFromIndex: null,\n          isSwiping: false\n        });\n      }\n    };\n\n    _this._handleSwipeStart = function () {\n      var _this$props2 = _this.props,\n          navigation = _this$props2.navigation,\n          lazy = _this$props2.lazy;\n\n      if (lazy) {\n        _this.setState({\n          isSwiping: true,\n          loaded: (0, _toConsumableArray2.default)(new Set([].concat((0, _toConsumableArray2.default)(_this.state.loaded), [Math.max(navigation.state.index - 1, 0), Math.min(navigation.state.index + 1, navigation.state.routes.length - 1)])))\n        });\n      }\n    };\n\n    _this._handleIndexChange = function (index) {\n      var _this$props3 = _this.props,\n          animationEnabled = _this$props3.animationEnabled,\n          navigation = _this$props3.navigation,\n          onIndexChange = _this$props3.onIndexChange,\n          lazy = _this$props3.lazy;\n\n      if (lazy && animationEnabled) {\n        _this.setState({\n          transitioningFromIndex: navigation.state.index || 0\n        });\n      }\n\n      onIndexChange(index);\n    };\n\n    _this._mustBeVisible = function (_ref2) {\n      var index = _ref2.index,\n          focused = _ref2.focused;\n      var _this$props4 = _this.props,\n          animationEnabled = _this$props4.animationEnabled,\n          navigation = _this$props4.navigation;\n      var _this$state = _this.state,\n          isSwiping = _this$state.isSwiping,\n          transitioningFromIndex = _this$state.transitioningFromIndex;\n\n      if (isSwiping) {\n        var isSibling = navigation.state.index === index - 1 || navigation.state.index === index + 1;\n\n        if (isSibling) {\n          return true;\n        }\n      }\n\n      if (animationEnabled && transitioningFromIndex === index) {\n        return true;\n      }\n\n      return focused;\n    };\n\n    _this._renderScene = function (_ref3) {\n      var route = _ref3.route;\n      var _this$props5 = _this.props,\n          renderScene = _this$props5.renderScene,\n          descriptors = _this$props5.descriptors,\n          lazy = _this$props5.lazy,\n          optimizationsEnabled = _this$props5.optimizationsEnabled;\n\n      if (lazy) {\n        var loaded = _this.state.loaded;\n        var routes = _this.props.navigation.state.routes;\n        var index = routes.findIndex(function (_ref4) {\n          var key = _ref4.key;\n          return key === route.key;\n        });\n        var navigation = descriptors[route.key].navigation;\n\n        var mustBeVisible = _this._mustBeVisible({\n          index: index,\n          focused: navigation.isFocused()\n        });\n\n        if (!loaded.includes(index) && !mustBeVisible) {\n          return React.createElement(_reactNative.View, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 200\n            }\n          });\n        }\n\n        if (optimizationsEnabled) {\n          return React.createElement(_ResourceSavingScene.default, {\n            isVisible: mustBeVisible,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 205\n            }\n          }, renderScene({\n            route: route\n          }));\n        }\n      }\n\n      return renderScene({\n        route: route\n      });\n    };\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(MaterialTabView, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props6 = this.props,\n          navigation = _this$props6.navigation,\n          animationEnabled = _this$props6.animationEnabled,\n          renderScene = _this$props6.renderScene,\n          onIndexChange = _this$props6.onIndexChange,\n          rest = (0, _objectWithoutProperties2.default)(_this$props6, [\"navigation\", \"animationEnabled\", \"renderScene\", \"onIndexChange\"]);\n      var renderPager = rest.renderPager;\n      var state = this.props.navigation.state;\n      var route = state.routes[state.index];\n      var descriptors = this.props.descriptors;\n      var descriptor = descriptors[route.key];\n      var options = descriptor.options;\n      var swipeEnabled = options.swipeEnabled == null ? this.props.swipeEnabled : options.swipeEnabled;\n\n      if (typeof swipeEnabled === 'function') {\n        swipeEnabled = swipeEnabled(state);\n      }\n\n      if (animationEnabled === false && swipeEnabled === false) {\n        renderPager = this._renderPanPager;\n      }\n\n      return React.createElement(_reactNativeTabView.TabView, (0, _extends2.default)({}, rest, {\n        navigationState: navigation.state,\n        animationEnabled: animationEnabled,\n        swipeEnabled: swipeEnabled,\n        onAnimationEnd: this._handleAnimationEnd,\n        onIndexChange: this._handleIndexChange,\n        onSwipeStart: this._handleSwipeStart,\n        renderPager: renderPager,\n        renderTabBar: this._renderTabBar,\n        renderScene: this._renderScene,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        }\n      }));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var index = nextProps.navigation.state.index;\n\n      if (prevState.index === index) {\n        return null;\n      }\n\n      return {\n        loaded: prevState.loaded.includes(index) ? prevState.loaded : [].concat((0, _toConsumableArray2.default)(prevState.loaded), [index]),\n        index: index\n      };\n    }\n  }]);\n  return MaterialTabView;\n}(React.PureComponent);\n\nMaterialTabView.defaultProps = {\n  initialLayout: _reactNative.Platform.select({\n    android: {\n      width: 1,\n      height: 0\n    }\n  }),\n  animationEnabled: true,\n  lazy: false,\n  optimizationsEnabled: false\n};\n(0, _reactLifecyclesCompat.polyfill)(MaterialTabView);\n\nvar _default = (0, _createTabNavigator.default)(MaterialTabView);\n\nexports.default = _default;","map":{"version":3,"sources":["/Users/diyarkudrat/Term_5/spd1.5/react-native-spotify-master/example/node_modules/react-navigation-tabs/src/navigators/createMaterialTopTabNavigator.js"],"names":["MaterialTabView","state","index","isSwiping","loaded","props","navigation","transitioningFromIndex","_renderIcon","focused","route","tintColor","descriptors","descriptor","key","options","tabBarIcon","_renderTabBar","routes","tabBarVisible","tabBarComponent","TabBarComponent","MaterialTopTabBar","tabBarPosition","tabBarOptions","screenProps","getLabelText","getAccessibilityLabel","getTestID","onTabPress","onTabLongPress","_renderPanPager","_handleAnimationEnd","lazy","setState","_handleSwipeStart","Set","Math","max","min","length","_handleIndexChange","animationEnabled","onIndexChange","_mustBeVisible","isSibling","_renderScene","renderScene","optimizationsEnabled","findIndex","mustBeVisible","isFocused","includes","rest","renderPager","swipeEnabled","nextProps","prevState","React","PureComponent","defaultProps","initialLayout","Platform","select","android","width","height"],"mappings":"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","sourcesContent":["/* @flow */\n\nimport * as React from 'react';\nimport { View, Platform } from 'react-native';\nimport { polyfill } from 'react-lifecycles-compat';\nimport { TabView, PagerPan } from 'react-native-tab-view';\nimport createTabNavigator, {\n  type InjectedProps,\n} from '../utils/createTabNavigator';\nimport MaterialTopTabBar, {\n  type TabBarOptions,\n} from '../views/MaterialTopTabBar';\nimport ResourceSavingScene from '../views/ResourceSavingScene';\n\ntype Props = InjectedProps & {\n  animationEnabled?: boolean,\n  lazy?: boolean,\n  optimizationsEnabled?: boolean,\n  swipeEnabled?: boolean,\n  renderPager?: (props: *) => React.Node,\n  tabBarComponent?: React.ComponentType<*>,\n  tabBarOptions?: TabBarOptions,\n  tabBarPosition?: 'top' | 'bottom',\n};\n\ntype State = {\n  index: number,\n  isSwiping: boolean,\n  loaded: Array<number>,\n  transitioningFromIndex: ?number,\n};\n\nclass MaterialTabView extends React.PureComponent<Props, State> {\n  static defaultProps = {\n    // fix for https://github.com/react-native-community/react-native-tab-view/issues/312\n    initialLayout: Platform.select({\n      android: { width: 1, height: 0 },\n    }),\n    animationEnabled: true,\n    lazy: false,\n    optimizationsEnabled: false,\n  };\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const { index } = nextProps.navigation.state;\n\n    if (prevState.index === index) {\n      return null;\n    }\n\n    return {\n      loaded: prevState.loaded.includes(index)\n        ? prevState.loaded\n        : [...prevState.loaded, index],\n      index,\n    };\n  }\n\n  state = {\n    index: 0,\n    isSwiping: false,\n    loaded: [this.props.navigation.state.index],\n    transitioningFromIndex: null,\n  };\n\n  _renderIcon = ({ focused, route, tintColor }) => {\n    const { descriptors } = this.props;\n    const descriptor = descriptors[route.key];\n    const options = descriptor.options;\n\n    if (options.tabBarIcon) {\n      return typeof options.tabBarIcon === 'function'\n        ? options.tabBarIcon({ tintColor, focused })\n        : options.tabBarIcon;\n    }\n\n    return null;\n  };\n\n  _renderTabBar = props => {\n    const { state } = this.props.navigation;\n    const route = state.routes[state.index];\n    const { descriptors } = this.props;\n    const descriptor = descriptors[route.key];\n    const options = descriptor.options;\n\n    const tabBarVisible =\n      options.tabBarVisible == null ? true : options.tabBarVisible;\n\n    const {\n      tabBarComponent: TabBarComponent = MaterialTopTabBar,\n      tabBarPosition,\n      tabBarOptions,\n    } = this.props;\n\n    if (TabBarComponent === null || !tabBarVisible) {\n      return null;\n    }\n\n    return (\n      /* $FlowFixMe */\n      <TabBarComponent\n        {...tabBarOptions}\n        {...props}\n        tabBarPosition={tabBarPosition}\n        screenProps={this.props.screenProps}\n        navigation={this.props.navigation}\n        getLabelText={this.props.getLabelText}\n        getAccessibilityLabel={this.props.getAccessibilityLabel}\n        getTestID={this.props.getTestID}\n        renderIcon={this._renderIcon}\n        onTabPress={this.props.onTabPress}\n        onTabLongPress={this.props.onTabLongPress}\n      />\n    );\n  };\n\n  _renderPanPager = props => <PagerPan {...props} />;\n\n  _handleAnimationEnd = () => {\n    const { lazy } = this.props;\n\n    if (lazy) {\n      this.setState({\n        transitioningFromIndex: null,\n        isSwiping: false,\n      });\n    }\n  };\n\n  _handleSwipeStart = () => {\n    const { navigation, lazy } = this.props;\n\n    if (lazy) {\n      this.setState({\n        isSwiping: true,\n        loaded: [\n          ...new Set([\n            ...this.state.loaded,\n            Math.max(navigation.state.index - 1, 0),\n            Math.min(\n              navigation.state.index + 1,\n              navigation.state.routes.length - 1\n            ),\n          ]),\n        ],\n      });\n    }\n  };\n\n  _handleIndexChange = index => {\n    const { animationEnabled, navigation, onIndexChange, lazy } = this.props;\n\n    if (lazy && animationEnabled) {\n      this.setState({\n        transitioningFromIndex: navigation.state.index || 0,\n      });\n    }\n\n    onIndexChange(index);\n  };\n\n  _mustBeVisible = ({ index, focused }) => {\n    const { animationEnabled, navigation } = this.props;\n    const { isSwiping, transitioningFromIndex } = this.state;\n\n    if (isSwiping) {\n      const isSibling =\n        navigation.state.index === index - 1 ||\n        navigation.state.index === index + 1;\n\n      if (isSibling) {\n        return true;\n      }\n    }\n\n    // The previous tab should remain visible while transitioning\n    if (animationEnabled && transitioningFromIndex === index) {\n      return true;\n    }\n\n    return focused;\n  };\n\n  _renderScene = ({ route }) => {\n    const { renderScene, descriptors, lazy, optimizationsEnabled } = this.props;\n\n    if (lazy) {\n      const { loaded } = this.state;\n      const { routes } = this.props.navigation.state;\n      const index = routes.findIndex(({ key }) => key === route.key);\n      const { navigation } = descriptors[route.key];\n\n      const mustBeVisible = this._mustBeVisible({\n        index,\n        focused: navigation.isFocused(),\n      });\n\n      if (!loaded.includes(index) && !mustBeVisible) {\n        return <View />;\n      }\n\n      if (optimizationsEnabled) {\n        return (\n          <ResourceSavingScene isVisible={mustBeVisible}>\n            {renderScene({ route })}\n          </ResourceSavingScene>\n        );\n      }\n    }\n\n    return renderScene({ route });\n  };\n\n  render() {\n    const {\n      navigation,\n      animationEnabled,\n      // eslint-disable-next-line no-unused-vars\n      renderScene,\n      // eslint-disable-next-line no-unused-vars\n      onIndexChange,\n      ...rest\n    } = this.props;\n\n    let renderPager = rest.renderPager;\n\n    const { state } = this.props.navigation;\n    const route = state.routes[state.index];\n    const { descriptors } = this.props;\n    const descriptor = descriptors[route.key];\n    const options = descriptor.options;\n\n    let swipeEnabled =\n      options.swipeEnabled == null\n        ? this.props.swipeEnabled\n        : options.swipeEnabled;\n\n    if (typeof swipeEnabled === 'function') {\n      swipeEnabled = swipeEnabled(state);\n    }\n\n    if (animationEnabled === false && swipeEnabled === false) {\n      renderPager = this._renderPanPager;\n    }\n\n    return (\n      <TabView\n        {...rest}\n        navigationState={navigation.state}\n        animationEnabled={animationEnabled}\n        swipeEnabled={swipeEnabled}\n        onAnimationEnd={this._handleAnimationEnd}\n        onIndexChange={this._handleIndexChange}\n        onSwipeStart={this._handleSwipeStart}\n        renderPager={renderPager}\n        renderTabBar={this._renderTabBar}\n        renderScene={\n          /* $FlowFixMe */\n          this._renderScene\n        }\n      />\n    );\n  }\n}\n\npolyfill(MaterialTabView);\n\nexport default createTabNavigator(MaterialTabView);\n"]},"metadata":{},"sourceType":"script"}